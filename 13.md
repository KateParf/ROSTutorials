**Создание пакета**

**1 Что такое пакет ROS 2?**

Пакет — это организационная единица для вашего кода ROS 2. Если вы хотите иметь возможность установить свой код или поделиться им с другими, вам нужно организовать его в пакет. С помощью пакетов вы можете выпустить свою работу ROS 2 и позволить другим легко ее собирать и использовать.

Создание пакетов в ROS 2 использует ament в качестве системы сборки и colcon в качестве инструмента сборки. Вы можете создать пакет с помощью CMake или Python, которые официально поддерживаются, хотя существуют и другие типы сборки.

**2 Что входит в пакет ROS 2?**

Простейший возможный пакет может иметь следующую файловую структуру:

CMakeПитон
my_package/
      package.xml
      resource/my_package
      setup.cfg
      setup.py
      my_package/

---

**Задачи**

**1 Создать пакет**

Сначала найдите источник вашей установки ROS 2 .

Давайте воспользуемся рабочей областью, созданной вами в предыдущем уроке , ros2_wsдля вашего нового пакета.

srcПеред запуском команды создания пакета убедитесь, что вы находитесь в папке.

~~~
cd ~/ros2_ws/src
~~~

Синтаксис команды для создания нового пакета в ROS 2:

~~~
ros2 pkg create --build-type ament_python --license Apache-2.0 <package_name>
~~~

В этом руководстве вы будете использовать необязательные аргументы --node-nameи параметр --license. --node-nameОн создает простой исполняемый файл типа Hello World в пакете и --licenseобъявляет информацию о лицензии для пакета.

Введите в терминале следующую команду:

~~~
ros2 pkg create --build-type ament_python --license Apache-2.0 --node-name my_node my_package
~~~

src Теперь в каталоге вашего рабочего пространства появится новая папка под названием my_package.

После выполнения команды ваш терминал вернет сообщение:

![image](https://github.com/user-attachments/assets/59c89496-a4c0-4b47-aa50-276f2831c056)

Вы можете увидеть автоматически сгенерированные файлы для нового пакета.

**2. Создание пакета**

Размещение пакетов в рабочем пространстве особенно ценно, поскольку вы можете собрать много пакетов одновременно, запустив их в корне рабочего пространства. В противном случае вам пришлось бы собирать каждый пакет по отдельности.colcon build

Вернитесь в корень вашего рабочего пространства:

~~~
cd ~/ros2_ws
~~~

Теперь вы можете создавать свои пакеты:

~~~
colcon build
~~~

Вспомните из последнего урока, что у вас также есть ros_tutorials пакеты в вашем ros2_ws. Вы могли заметить, что запуск также построил пакет. Это нормально, когда у вас всего несколько пакетов в рабочей области, но когда пакетов много, это может занять много времени.colcon buildturtlesimcolcon build

Чтобы my_packageв следующий раз собрать только пакет, вы можете выполнить:

~~~
colcon build --packages-select my_package
~~~

