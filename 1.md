# [Установка и настройка среды ROS](https://wiki.ros.org/ROS/Tutorials/InstallingandConfiguringROSEnvironment)

*Описание: В этом руководстве вы узнаете, как установить ROS и настроить среду ROS на вашем компьютере.*

## 1. [Установка ROS с помощью WSL на Ubuntu](https://wiki.ros.org/noetic/Installation/Ubuntu)
1. Открываем консольное приложение ![Ubuntu](https://img.shields.io/badge/Ubuntu-E95420?style=for-the-badge&logo=ubuntu&logoColor=white)
2. Настройка репозитория Ubuntu для ROS в своей системе.
  Выбираем **Universe** — бесплатное программное обеспечение с открытым исходным кодом, поддерживаемое сообществом.
   ```
    sudo apt install software-properties-common
    sudo add-apt-repository universe
   ```
   **sudo apt install software-properties-common** *устанавливает пакет software-properties-common, который предоставляет инструменты для управления репозиториями Ubuntu, включая add-apt-repository.*

   **sudo add-apt-repository universe** *добавляет репозиторий "Universe" в список репозиториев Ubuntu. Репозиторий "Universe" содержит бесплатное программное обеспечение с открытым исходным кодом, поддерживаемое сообществом. Это значит, что вы сможете устанавливать пакеты ROS, которые включены в этот репозиторий.*
   
3. Настройка sources.list компьютера на прием программного обеспечения с packages.ros.org.
   ```
   sudo sh -c 'echo "deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main" > /etc/apt/sources.list.d/ros-latest.list'
   ```
   *Команда echo добавляет строку, указывающую на репозиторий ROS, в файл ros-latest.list.*
   
   *Этот файл находится в каталоге sources.list.d, который является подкаталогом sources.list, который в свою очередь содержит список всех репозиториев, используемых apt.*
   
   *После добавления этой строки, менеджер пакетов apt будет искать пакеты ROS на сервере packages.ros.org, когда вы будете устанавливать или обновлять пакеты ROS.*
   
4. Настройка ключей ROS, которые используются для проверки подлинности пакетов ROS, скачиваемых с официальных репозиториев.
   ```
   sudo apt update && sudo apt install curl -y
   curl -s https://raw.githubusercontent.com/ros/rosdistro/master/ros.asc | sudo apt-key add -
   ```
   ![image](https://github.com/user-attachments/assets/fc24056a-e393-428a-bbaa-6e15145bd64e)

   *Команда curl скачивает файл ключа ROS с GitHub.*
  
   *Этот файл ключа сохраняется в директории /usr/share/keyrings, которая используется для хранения ключей, используемых apt для проверки подлинности пакетов.*
  
   *После этого apt будет использовать этот ключ для проверки подлинности пакетов ROS, скачиваемых с официальных репозиториев.*
  
5. Обновление всех компонентов.
   ```
   sudo apt update
   sudo apt upgrade
   ```
6. Установка полной Desktop-версии ROS с 2D/3D-симуляторами и пакетами 2D/3D-восприятия.
   ```
   sudo apt install ros-noetic-desktop-full
   ```
7. Настройка окружения, чтобы операционная система могла распознавать инструменты и пакеты ROS. 
   ```
   echo "source /opt/ros/noetic/setup.bash" >> ~/.bashrc
   source ~/.bashrc
   ```
   *Эта процедура обеспечивает автоматический запуск скрипта setup.bash при каждой новой сессии bash, что гарантирует, что система всегда будет правильно настроена для работы с ROS.*

## 2. Создание рабочего пространства ROS
*При работе с исходным кодом ROS часто бывает полезно делать это в "рабочем пространстве (workspace)". Для следующих руководств по ROS нам понадобится область для работы над руководствами и создания новых стеков и пакетов ROS.*

*rosws — это инструмент, который обеспечивает единый интерфейс для различных систем контроля версий, таких как SVN, Git и Mercurial, а также для управления всеми пакетами, установленными в оверлее ROS.*

1. Создание нового рабочего пространства

   Следующая команда создает новое рабочее пространство в ~/fuerte_workspace, которое будет содержать пакеты, установленные в /opt/ros/fuerte. Это позволит создавать свои собственные пакеты, компилировать их и использовать в дальнейших проектах.
   ```
   rosws init ~/fuerte_workspace /opt/ros/fuerte
   ```
2. Создание каталога-песочницы для новых пакетов

   Новые пакеты необходимо поместить в путь, который находится в переменной ROS_PACKAGE_PATH. Все каталоги, которые управляются rosws, т.е. которые были добавлены с помощью rosws, автоматически добавляются в ROS_PACKAGE_PATH при извлечении файла setup.bash соответствующего рабочего пространства. Хотя новые пакеты всегда следует помещать в репозитории, установленные с помощью rosws, может быть очень удобно иметь каталог sandbox, куда, например, можно поместить пакеты, созданные во время уроков, без необходимости дополнительных команд rosws. Для этого мы создаем новый каталог sandbox и добавляем его в скрытый файл .rosinstall с помощью rosws:

   ```
   mkdir ~/fuerte_workspace/sandbox
   rosws set ~/fuerte_workspace/sandbox
   ```
  
3. Подтверждение

   Проверяем, что переменная окружения ROS_PACKAGE_PATH настроена правильно после создания нового рабочего пространства и вводим: `$ echo $ROS_PACKAGE_PATH`
