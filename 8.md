# [Использование rqt_consoleдля просмотра логов](https://docs.ros.org/en/rolling/Tutorials/Beginner-CLI-Tools/Using-Rqt-Console/Using-Rqt-Console.html)

**rqt_console** — это графический инструмент, используемый для интроспекции сообщений журнала в ROS 2. Обычно сообщения журнала отображаются в вашем терминале. 

С помощью rqt_console мы можем собирать эти сообщения с течением времени, просматривать их подробно и более организованно, фильтровать их, сохранять и даже перезагружать сохраненные файлы для интроспекции в другое время.

Узлы используют журналы для вывода сообщений о событиях и статусе различными способами. Их содержимое обычно носит информационный характер, для пользователя.

### 1. Установка
Запустим rqt_console в новом терминале с помощью следующей команды:
```
ros2 run rqt_console rqt_console
```
![image](https://github.com/user-attachments/assets/c4b2cd94-cc56-4cd7-95ef-f191bf2f59a2)

В первом разделе консоли будут отображаться сообщения журнала нашей системы.

В середине у нас есть возможность фильтровать сообщения, исключая уровни серьезности. 
Мы также можем добавить больше фильтров исключения с помощью кнопки со знаком плюс справа.

Нижний раздел предназначен для выделения сообщений, которые включают введенную нами строку. Мы также можем добавить больше фильтров в этот раздел.

Теперь запустим turtlesim в новом терминале: `ros2 run turtlesim turtlesim_node`.

### 2. Сообщения на rqt_console

Чтобы создать сообщения журнала для отображения в rqt_console, давайте заставим черепаху врезаться в стену. В новом терминале:
```
ros2 topic pub -r 1 /turtle1/cmd_vel geometry_msgs/msg/Twist "{linear: {x: 2.0, y: 0.0, z: 0.0}, angular: {x: 0.0,y: 0.0,z: 0.0}}"
```
Поскольку указанная выше команда публикует тему с постоянной скоростью, черепаха постоянно врезается в стену. В rqt_console мы видим одно и то же сообщение с уровнем серьезности Warn, отображаемым снова и снова.

![image](https://github.com/user-attachments/assets/49f4c62b-0e03-4e9f-a451-6ea800b7154d)

### 3. Logger levels

Уровни логов ROS 2 упорядочены по степени серьезности (от большего к меньшему):

* Fatal
* Error
* Warn
* Info
* Debug
  
Точного стандарта для каждого уровня нет, но можно с уверенностью предположить, что:

**Fatal messages** указывают на то, что система собирается завершить работу, чтобы попытаться защитить себя от ущерба.

**Error messages** указывают на серьезные проблемы, которые не обязательно повредят систему, но мешают ей нормально функционировать.

**Warn messages** указывают на неожиданную активность или неидеальные результаты, которые могут представлять собой более глубокую проблему, но не наносят прямого вреда функциональности.

**Info messages** указывают на обновления событий и статуса, которые служат визуальным подтверждением того, что система работает так, как ожидалось.

**Debug messages** подробно описывают весь пошаговый процесс выполнения системы.

Уровень по умолчанию — **Info**. Мы увидим только сообщения уровня серьезности по умолчанию и более серьезных уровней.

Обычно скрыты только **Debug messages**, поскольку они являются единственным уровнем менее серьезным, чем **Info**. 

#### 3.1. Set the default logger level

Можно установить уровень логгера по умолчанию при первом запуске узла /turtlesim с помощью переназначения. 
```
ros2 run turtlesim turtlesim_node --ros-args --log-level WARN
```
Теперь мы не увидим начальные сообщения уровня Info, которые появились в консоли в прошлый раз при запуске turtlesim. Это потому, что сообщения Info имеют более низкий приоритет, чем новый уровень важности по умолчанию, Warn.

![image](https://github.com/user-attachments/assets/b44048a1-1722-4ca4-9c40-08d226b7eb09)
